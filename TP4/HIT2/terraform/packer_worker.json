{
  "variables": {
  "gcloud_account_json": "credentials.json",
  "gcloud_project_id": "continual-air-416912"
  },
  "builders": [
      {
          "type": "googlecompute",
          "account_file": "{{user `gcloud_account_json`}}",
          "project_id": "{{user `gcloud_project_id`}}",
          "ssh_username": "ubuntu",
          "source_image_family": "ubuntu-2004-lts",
          "image_name": "worker-image",
          "zone": "us-east1-b",
          "machine_type": "n1-standard-2",
          "disk_size": "20",
          "on_host_maintenance": "TERMINATE"
      }
  ],
  "provisioners": [
      {
          "type": "shell",
          "inline": [
              "sudo apt-get update",
              "sudo apt install python3",
              "sudo apt install python3-pip -y",
              "sudo pip install Flask",
              "sudo pip install opencv-python numpy",
              "sudo apt install docker.io -y" ,
              "sudo docker pull lucasrueda01/worker-app",
              "sudo docker run --rm --name servidor_sobel -p 5000:5000 lucasrueda01/worker-app"
          ]
      }
  ]
}